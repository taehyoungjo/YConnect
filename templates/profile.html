{% extends "layout.html" %}

{% block title %}
    Profile
{% endblock %}

{% block main %}
{% for profile in profile%}
    <div class="card">
        <img src="{{ profile["file_path"] }}" class="card-img-top" alt="Responsive image">
        <div class="card-body">
            <h5 class="card-title">{{ profile["name"]}}</h5>
            <h6>{{ profile["major"] }}</h6>
            <h6>{{ profile["year"] }}</h6>
            <h6>{{ profile["residential_college"] }}</h6>
            <p class="card-text">{{ profile["bio"] }}</p>
        </div>
    </div>

{% endfor %}

{% if not self %}
	{% if not connected %}
		<button type="button" class="btn btn-primary" id="connectedBtn">Add Connection</button>
	{% else %}
		<button type="button" class="btn btn-primary" disabled>Connected</button>
	{% endif %}
{% endif %}
{% endblock %}

<script>
	$("#connectedBtn").onclick(function() {
		$.post("/profile", {"id": {{ id }}});
		this.addAttribute("disabled");
		this.innerHTML = "Connected";
	});
</script>